import{useSlots as t,useAttrs as e,computed as n,ref as o,unref as i,openBlock as r,createElementBlock as s,normalizeClass as a,normalizeStyle as u,createElementVNode as l,renderSlot as c,createCommentVNode as d,defineComponent as h,reactive as f,getCurrentInstance as p,onMounted as v,onUnmounted as b,createVNode as y}from"vue";const m={props:{type:{type:String,default:"default",validator:t=>["default","success","info","danger","warning"].includes(t)},size:{type:String,default:"medium",validator:t=>["small","medium","large"].includes(t)},closable:{type:Boolean,default:!1,validator:t=>"boolean"==typeof t},round:{type:Boolean,default:!1,validator:t=>"boolean"==typeof t},disabled:{type:Boolean,default:!1,validator:t=>"boolean"==typeof t},color:{type:String}},emits:["close"],setup(h,{emit:f}){const p=h;t(),e();const v=n((()=>p.closable&&"u-tag-close u-close iconfont"));let b=o(!0);const y=t=>{b.value=!1,f("close",t)},m=n((()=>"u-tag-"+p.type)),_=n((()=>"u-tag-size__"+p.size)),g=n((()=>p.round&&"u-tag-round")),w=n((()=>p.disabled&&"u-tag-disabled")),O=n((()=>{if(p.color)return{color:"#fff",backgroundColor:p.color,border:`1px solid ${p.color}`}}));return(t,e)=>i(b)?(r(),s("div",{key:0,class:a(["u-tag",i(m),i(_),i(g),i(w)]),style:u(i(O))},[l("div",null,[c(t.$slots,"default")]),l("span",{class:a(i(v)),onClick:y},null,2)],6)):d("",!0)},name:"UTag",install:t=>{t.component(m.name,m)}};var _=function(){if("undefined"!=typeof Map)return Map;function t(t,e){var n=-1;return t.some((function(t,o){return t[0]===e&&(n=o,!0)})),n}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var n=t(this.__entries__,e),o=this.__entries__[n];return o&&o[1]},e.prototype.set=function(e,n){var o=t(this.__entries__,e);~o?this.__entries__[o][1]=n:this.__entries__.push([e,n])},e.prototype.delete=function(e){var n=this.__entries__,o=t(n,e);~o&&n.splice(o,1)},e.prototype.has=function(e){return!!~t(this.__entries__,e)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var n=0,o=this.__entries__;n<o.length;n++){var i=o[n];t.call(e,i[1],i[0])}},e}()}(),g="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,w="undefined"!=typeof global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),O="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(w):function(t){return setTimeout((function(){return t(Date.now())}),1e3/60)};var E=["top","right","bottom","left","width","height","size","weight"],z="undefined"!=typeof MutationObserver,S=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(t,e){var n=!1,o=!1,i=0;function r(){n&&(n=!1,t()),o&&a()}function s(){O(r)}function a(){var t=Date.now();if(n){if(t-i<2)return;o=!0}else n=!0,o=!1,setTimeout(s,e);i=t}return a}(this.refresh.bind(this),20)}return t.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},t.prototype.removeObserver=function(t){var e=this.observers_,n=e.indexOf(t);~n&&e.splice(n,1),!e.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},t.prototype.updateObservers_=function(){var t=this.observers_.filter((function(t){return t.gatherActive(),t.hasActive()}));return t.forEach((function(t){return t.broadcastActive()})),t.length>0},t.prototype.connect_=function(){g&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),z?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){g&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(t){var e=t.propertyName,n=void 0===e?"":e;E.some((function(t){return!!~n.indexOf(t)}))&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),x=function(t,e){for(var n=0,o=Object.keys(e);n<o.length;n++){var i=o[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},M=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||w},T=C(0,0,0,0);function R(t){return parseFloat(t)||0}function A(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce((function(e,n){return e+R(t["border-"+n+"-width"])}),0)}function k(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return T;var o=M(t).getComputedStyle(t),i=function(t){for(var e={},n=0,o=["top","right","bottom","left"];n<o.length;n++){var i=o[n],r=t["padding-"+i];e[i]=R(r)}return e}(o),r=i.left+i.right,s=i.top+i.bottom,a=R(o.width),u=R(o.height);if("border-box"===o.boxSizing&&(Math.round(a+r)!==e&&(a-=A(o,"left","right")+r),Math.round(u+s)!==n&&(u-=A(o,"top","bottom")+s)),!function(t){return t===M(t).document.documentElement}(t)){var l=Math.round(a+r)-e,c=Math.round(u+s)-n;1!==Math.abs(l)&&(a-=l),1!==Math.abs(c)&&(u-=c)}return C(i.left,i.top,a,u)}var B="undefined"!=typeof SVGGraphicsElement?function(t){return t instanceof M(t).SVGGraphicsElement}:function(t){return t instanceof M(t).SVGElement&&"function"==typeof t.getBBox};function D(t){return g?B(t)?function(t){var e=t.getBBox();return C(0,0,e.width,e.height)}(t):k(t):T}function C(t,e,n,o){return{x:t,y:e,width:n,height:o}}var j=function(){function t(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=C(0,0,0,0),this.target=t}return t.prototype.isActive=function(){var t=D(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},t}(),W=function(t,e){var n,o,i,r,s,a,u,l=(o=(n=e).x,i=n.y,r=n.width,s=n.height,a="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,u=Object.create(a.prototype),x(u,{x:o,y:i,width:r,height:s,top:i,right:o+r,bottom:s+i,left:o}),u);x(this,{target:t,contentRect:l})},$=function(){function t(t,e,n){if(this.activeObservations_=[],this.observations_=new _,"function"!=typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=n}return t.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof M(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new j(t)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof M(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach((function(e){e.isActive()&&t.activeObservations_.push(e)}))},t.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map((function(t){return new W(t.target,t.broadcastRect())}));this.callback_.call(t,e,t),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),L="undefined"!=typeof WeakMap?new WeakMap:new _,U=function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=S.getInstance(),o=new $(e,n,this);L.set(this,o)};["observe","unobserve","disconnect"].forEach((function(t){U.prototype[t]=function(){var e;return(e=L.get(this))[t].apply(e,arguments)}}));var F=void 0!==w.ResizeObserver?w.ResizeObserver:U,H=h({name:"resizeObserver",props:{onResize:{type:Function}},setup(t,{slots:e,emit:n}){const o=f({width:0,height:0}),i=(e,n)=>{const{width:i,height:r}=e[0].contentRect,{onResize:s}=t,a=Math.floor(i),u=Math.floor(r);if(o.width!==a||o.height!==u){const t={width:a,height:u};Object.assign(o,t),s&&s(o)}},r=p();let s=null;return v((()=>{(()=>{var t;let e=null==(t=null==r?void 0:r.vnode)?void 0:t.el;!s&&e&&(s=new F(i),s.observe(e))})()})),b((()=>{s&&s.disconnect()})),()=>{var t;return null==(t=e.default)?void 0:t.call(e)[0]}}});const q=h({name:"Avatar",props:{size:{type:String,default:"medium",validator:t=>["small","medium","large","huge"].includes(t)},src:{type:String},round:{type:Boolean,default:!1,validator:t=>"boolean"==typeof t}},setup(t,{slots:e}){const i=o(null),r=o(null),s=n((()=>"u-avatar-size__"+t.size)),a=n((()=>t.round?"u-avatar-round":""));return{textRef:i,selfRef:r,setScaleParam:({width:t,height:e})=>{const{value:n}=i,{offsetWidth:o,offsetHeight:s}=i.value,{offsetWidth:a,offsetHeight:u}=r.value,l=Math.min(a/o*.9,u/s*.9,1);n.style.transform=`translateX(-50%) translateY(-50%) scale(${l})`},avatarSize:s,round:a}},render(){const{textRef:t,selfRef:e,setScaleParam:n,avatarSize:o,round:i,src:r,size:s,$slots:a}=this;return y("div",{ref:"selfRef",class:["u-avatar",o,i]},[!a.default&&r?y("img",{class:"u-avatar-size__"+s,src:r},null):y(H,{onResize:n},{default:()=>{var t;return[y("span",{ref:"textRef",class:"u-avatar-text"},[null==(t=a.default)?void 0:t.call(a)])]}})])}});q.name="UAvatar",q.install=t=>{t.component(q.name,q)};const G=h({name:"Icon",props:{type:String,size:Number},setup:t=>({iconType:n((()=>t.type)),iconSize:n((()=>t.size+"px"))}),render(){const{iconType:t,iconSize:e}=this;return y("span",{class:["iconfont",t],style:{"font-size":e}},null)}}),N=h({name:"Button",props:{size:{type:String,default:"medium",validator:t=>["small","medium","large","huge"].includes(t)},type:{type:String,default:"default",validator:t=>["default","success","danger","warning","info"].includes(t)},deep:{type:Boolean,default:!1,validator:t=>"boolean"==typeof t},dashed:{type:Boolean,default:!1,validator:t=>"boolean"==typeof t},size:{type:String,default:"medium",validator:t=>["small","medium","large","huge"].includes(t)},text:{type:Boolean,validator:t=>"boolean"==typeof t},onClick:{type:Function},disabled:{type:Boolean,default:!1,validator:t=>"boolean"==typeof t},icon:{type:String},round:{type:Boolean,default:!1,validator:t=>"boolean"==typeof t},prefix:{type:String},suffix:{type:String}},setup(t){let e=o(!1);o(null);return{waveState:e,onClick:async()=>{var n;t.disabled||(null==(n=t.onClick)||n.call(t),e.value=!0,setTimeout((()=>{e.value=!1}),300))},activeName:n((()=>t.type&&"u-button-wave-"+t.type)),isDeep:n((()=>t.deep&&"u-button-deep")),isDashed:n((()=>t.dashed&&"u-button-dashed")),isDisabled:n((()=>t.disabled&&"u-button-disabled")),isText:n((()=>t.text&&"u-button-text")),isRound:n((()=>t.round&&"u-button-round")),iconType:n((()=>t.icon&&`iconfont u-button-icon-${t.size}  ${t.icon}`)),buttonType:n((()=>"u-button-"+t.type)),buttonSize:n((()=>"u-button-size-"+t.size))}},render(){var t;const{buttonType:e,buttonSize:n,isDeep:o,isDashed:i,isText:r,isRound:s,isDisabled:a,iconType:u,prefix:l,suffix:c,waveState:d,activeName:h,onClick:f,$slots:p}=this;return y("div",{class:["u-button",r,n,e,o,i,a,u,s,{[h]:d}],onClick:f},[l&&y(G,{type:l,style:""},null),null==(t=p.default)?void 0:t.call(p),c&&y(G,{type:c,style:""},null)])}}),I=h({name:"divider",props:{type:{type:String,default:"solid",validator:t=>["solid","dashed","dotted"].includes(t)},bold:{type:Boolean,default:!1,validator:t=>"boolean"==typeof t},height:{type:Number},color:{type:String}},setup:t=>({type:n((()=>"u-divider-"+t.type)),bound:n((()=>t.bold&&"u-divider-bold")),dividerStyle:n((()=>({"border-top-color":t.color,"border-top-width":t.height+"px"})))}),render(){const{type:t,bound:e,dividerStyle:n,$slots:o}=this;return y("div",{class:["u-divider",t,e],style:n},null)}}),P=[m,N,q,I,G],V=t=>{P.forEach((e=>{t.component(e.name,e)}))};export{q as UAvatar,N as UButton,I as UDivider,G as UIcon,m as UTag,V as install};
